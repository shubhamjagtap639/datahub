{{#if getContainerDataTask.isRunning}}

  {{pendulum-ellipsis-animation}}

{{/if}}

{{#if getContainerDataTask.last.isError}}

  {{empty-state heading="An error occurred getting this dataset's compliance policy"}}

{{else}}

  {{#if complianceInfo.fromUpstream}}

    {{datasets/containers/upstream-dataset
      urn=urn
      platform=platform
      upstreamComplianceType=complianceInfo.complianceType
    }}

  {{else}}

    {{dataset-compliance
      datasetName=datasetName
      schemaless=schemaless
      platform=platform
      wikiLinks=@wikiLinks
      fieldReviewOption=@complianceTagFilter
      complianceInfo=complianceInfo
      exportPolicy=exportPolicy
      complianceSuggestion=complianceSuggestion
      suggestionConfidenceThreshold=suggestionConfidenceThreshold
      isNewComplianceInfo=isNewComplianceInfo
      schemaFieldNamesMappedToDataTypes=schemaFieldNamesMappedToDataTypes
      complianceDataTypes=complianceDataTypes
      onComplianceTagFilterChange=@onComplianceTagFilterChange
      notifyOnComplianceSuggestionFeedback=(action "onSuggestionsComplianceFeedback")
      notifyOnChangeSetRequiresReview=(action "onCompliancePolicyChangeSetDrift")
      onSave=(action "savePrivacyCompliancePolicy")
      onSaveRetentionPolicy=(action "saveRetentionPolicy")
      onSaveExportPolicy=(action "saveExportPolicy")
      onReset=(action "resetPrivacyCompliancePolicy")
      onComplianceJsonUpdate=(action "onComplianceJsonUpdate")
    }}

  {{/if}}

{{/if}}
